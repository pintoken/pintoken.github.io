(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5123b13f"],{"14c7":function(t,e,i){i.d(e,"c",function(){return s}),i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r}),i.d(e,"d",function(){return c});var n=/scroll|auto|overlay/i;function s(t,e){void 0===e&&(e=window);for(var i=t;i&&"HTML"!==i.tagName&&"BODY"!==i.tagName&&1===i.nodeType&&i!==e;){var s=window.getComputedStyle(i).overflowY;if(n.test(s))return i;i=i.parentNode}return e}function o(t){t="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(t,0)}function a(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function r(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function c(t){a(window,t),a(document.body,t)}},"1b70":function(t,e,i){i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return a});let s=async t=>{return(await r(JSON.stringify({query:`query burnTokenToPowers {
      burnTokenToPowers(
        first: 1
        orderBy: time
        orderDirection: desc
        where: {owner: "${t}"}
      ) {
        burnAmount
        id
        power
        time
        token
      }
    }`}))).data.burnTokenToPowers},n=async t=>{return(await r(JSON.stringify({query:`query converts {
      converts(
        first: 1
        orderBy: time
        orderDirection: desc
        where: {owner: "${t}"}
      ) {
        pinAmount
        power
        powerReceiptor
        time
        token
        tokenAmount
        id
      }
    }`}))).data.converts},o=async(t,e=0)=>{return(await r(JSON.stringify({query:`query powerChangeds {
      powerChangeds(
        first: 10
        orderBy: time
        orderDirection: desc
        skip: ${e}
        where: {
          power_not: "0"
          owner: "${t}"
        }
      ) {
        power
        source
        time
      }
    }`}))).data.powerChangeds},a=async(t,e=0)=>{return(await r(JSON.stringify({query:`query takedRewards {
      takedRewards(
        first: 10
        orderBy: time
        orderDirection: desc
        skip: ${e}
        where: {
          takedAmount_gt: "0"
          owner: "${t}"
        }
      ) {
        takedAmount
        time
      }
    }`}))).data.takedRewards};async function r(t){return fetch("https://api.thegraph.com/subgraphs/name/pintoken/pintoken",{cache:"reload",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:t}).then(t=>t.json())}},2090:function(t,e,i){i.d(e,"b",function(){return a}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return c});var n=i("8223"),o=!1;if(!n.g)try{var s={};Object.defineProperty(s,"passive",{get:function(){o=!0}}),window.addEventListener("test-passive",null,s)}catch(t){}function a(t,e,i,s){void 0===s&&(s=!1),n.g||t.addEventListener(e,i,!!o&&{capture:!1,passive:s})}function r(t,e,i){n.g||t.removeEventListener(e,i)}function c(t,e){"boolean"==typeof t.cancelable&&!t.cancelable||t.preventDefault(),e&&t.stopPropagation()}},"3dcb":function(t,e,i){i("d344")},"5ddf":function(t,e,i){},"653d":function(t,e,i){var s=i("f9e1");var n=i("14c7"),o=i("b11e"),a=i("4fc1"),i=Object(s.a)("list"),s=i[0],r=i[1],c=i[2];e.a=s({mixins:[Object(o.a)(function(t){this.scroller||(this.scroller=Object(n.c)(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var a=this;this.$nextTick(function(){if(!(a.innerLoading||a.finished||a.error)){var t,e=a.$el,i=a.scroller,s=a.offset,n=a.direction,i=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight};if(!(i.bottom-i.top)||(e=e,o=window.getComputedStyle(e),t="none"===o.display,e=null===e.offsetParent&&"fixed"!==o.position,t)||e)return!1;var o=a.$refs.placeholder.getBoundingClientRect();("up"===n?i.top-o.top<=s:o.bottom-i.bottom<=s)&&(a.innerLoading=!0,a.$emit("input",!0),a.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:r("loading")},[this.slots("loading")||t(a.a,{attrs:{size:"16"}},[this.loadingText||c("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var e=this.slots("finished")||this.finishedText;if(e)return t("div",{class:r("finished-text")},[e])}},genErrorText:function(){var t=this.$createElement;if(this.error){var e=this.slots("error")||this.errorText;if(e)return t("div",{on:{click:this.clickErrorText},class:r("error-text")},[e])}}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",key:"placeholder",class:r("placeholder")});return t("div",{class:r(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():e,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():e])}})},"687c":function(t,e,i){i.d(e,"a",function(){return s});var n=i("2090");var s={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e,t=t.touches[0];this.deltaX=t.clientX<0?0:t.clientX-this.startX,this.deltaY=t.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY);(!this.direction||this.offsetX<10&&this.offsetY<10)&&(this.direction=(t=this.offsetX,(e=this.offsetY)<t?"horizontal":t<e?"vertical":""))},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},bindTouchEvent:function(t){var e=this.onTouchStart,i=this.onTouchMove,s=this.onTouchEnd;Object(n.b)(t,"touchstart",e),Object(n.b)(t,"touchmove",i),s&&(Object(n.b)(t,"touchend",s),Object(n.b)(t,"touchcancel",s))}}}},"70cc":function(t,e,i){var s=i("f9e1"),n=i("2090"),o=i("14c7"),a=i("687c"),r=i("4fc1"),i=Object(s.a)("pull-refresh"),s=i[0],c=i[1],d=i[2],h=["pulling","loosing","success"];e.a=s({mixins:[a.a],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:[Number,String],value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:50}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(50!==this.headHeight)return{height:this.headHeight+"px"}}},watch:{value:function(t){this.duration=this.animationDuration,t?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=Object(o.c)(this.$el)},methods:{checkPullStart:function(t){this.ceiling=0===Object(o.b)(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(t))},onTouchStart:function(t){this.touchable&&this.checkPullStart(t)},onTouchMove:function(t){this.touchable&&(this.ceiling||this.checkPullStart(t),this.touchMove(t),this.ceiling)&&0<=this.deltaY&&"vertical"===this.direction&&(Object(n.c)(t),this.setStatus(this.ease(this.deltaY)))},onTouchEnd:function(){var t=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick(function(){t.$emit("refresh")})):this.setStatus(0))},ease:function(t){var e=+(this.pullDistance||this.headHeight);return e<t&&(t=t<2*e?e+(t-e)/2:1.5*e+(t-2*e)/4),Math.round(t)},setStatus:function(t,e){e=e?"loading":0===t?"normal":t<(this.pullDistance||this.headHeight)?"pulling":"loosing";this.distance=t,e!==this.status&&(this.status=e)},genStatus:function(){var t,e=this.$createElement,i=this.status,s=this.distance,s=this.slots(i,{distance:s});return s||(s=[],t=this[i+"Text"]||d(i),-1!==h.indexOf(i)&&s.push(e("div",{class:c("text")},[t])),"loading"===i&&s.push(e(r.a,{attrs:{size:"16"}},[t])),s)},showSuccessTip:function(){var t=this;this.status="success",setTimeout(function(){t.setStatus(0)},this.successDuration)}},render:function(){var t=arguments[0],e={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return t("div",{class:c()},[t("div",{ref:"track",class:c("track"),style:e},[t("div",{class:c("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}})},"984a":function(t,e,i){i("eb33")},"9dfe":function(t,e,i){i("1651"),i("035d"),i("bf95")},b11e:function(t,e,i){i.d(e,"a",function(){return s});var n=i("2090"),o=0;function s(t){var e="binded_"+o++;function i(){this[e]||(t.call(this,n.b,!0),this[e]=!0)}function s(){this[e]&&(t.call(this,n.a,!1),this[e]=!1)}return{mounted:i,activated:i,deactivated:s,beforeDestroy:s}}},bf95:function(t,e,i){},d344:function(t,e,i){},d5e6:function(t,e,i){t.exports=i.p+"img/empty.0f55d9ba.svg"},dcd2:function(t,e,i){i("1651"),i("035d"),i("5ddf")},e89a:function(t,e,s){s.r(e);s("9dfe");var i=s("653d"),n=(s("dcd2"),s("70cc")),o=(s("cdf1"),s("6eef")),a=s("1b70"),n={components:{[n.a.name]:n.a,[i.a.name]:i.a},data(){return{refreshing:!1,loading:!1,finished:!1,skip:0,totalReceipt:0,detailsList:[]}},computed:{...Object(o.b)(["isConnected","address"])},created(){this.totalReceipt=this.$route.query.totalTake},methods:{async onLoad(){if(this.address){var e=await Object(a.d)(this.address,this.skip);this.refreshing&&(this.detailsList=[],this.refreshing=!1);for(let t=0;t<e.length;t++)this.detailsList.push({timestamp:e[t].time,amount:e[t].takedAmount.fromWei(),date:this.$toTime(e[t].time,"Y/M/D H:i")});this.loading=!1,this.skip+=10,e.length<10&&(this.finished=!0)}},onRefresh(){this.finished=!1,this.skip=0,this.loading=!0,this.onLoad()}}},i=(s("984a"),s("3dcb"),s("6707")),o=Object(i.a)(n,function(){var e=this,i=e._self._c;e._self._setupProxy;return i("div",{staticClass:"total-receipt"},[i("div",{staticClass:"header"},[i("div",{staticClass:"container"},[i("span",[e._v(e._s(e.totalReceipt.toFixed(2)))]),i("span",[e._v(e._s(e.$t("total_receipt"))+"/PIN")])])]),i("div",{staticClass:"details-title"},[e._v(e._s(e.$t("receipt_details")))]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.detailsList.length,expression:"detailsList.length"}],staticClass:"details-tag"},[i("span",[e._v(e._s(e.$t("time")))]),i("span",[e._v(e._s(e.$t("receive"))+"/PIN")])]),i("van-pull-refresh",{attrs:{"pulling-text":e.$t("pulling"),"loosing-text":e.$t("loosing"),"loading-text":e.$t("loading")},on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[i("van-list",{attrs:{finished:e.finished,"loading-text":e.$t("loading")},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.detailsList.length,expression:"detailsList.length"}],staticClass:"details-list"},e._l(e.detailsList,function(t){return i("div",{key:t.timestamp,staticClass:"list-item"},[i("span",[e._v(e._s(t.date))]),i("span",{staticClass:"plus"},[e._v("+"+e._s(t.amount.toFixed(2)))])])}),0),i("template",{slot:"finished"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.detailsList.length,expression:"detailsList.length"}],staticClass:"van-list__finished-text"},[e._v(" "+e._s(e.$t("no_more"))+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.detailsList.length,expression:"!detailsList.length"}],staticClass:"details-empty"},[i("img",{attrs:{src:s("d5e6")}}),i("span",[e._v(e._s(e.$t("no_transactions_found")))])])])],2)],1)],1)},[],!1,null,"0160672f",null);e.default=o.exports},eb33:function(t,e,i){}}]);