(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tokenInfo"],{3467:function(e,t,n){"use strict";n("55c4")},"55c4":function(e,t,n){},"799b":function(e,t,n){"use strict";n("9dfd")},"9dfd":function(e,t,n){},b0c0:function(e,t,n){var s=n("83ab"),a=n("9bf2").f,r=Function.prototype,o=r.toString,i=/^\s*function ([^ (]*)/,c="name";s&&!(c in r)&&a(r,c,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(e){return""}}})},bab4:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("div",{staticClass:"search-token"},[s("van-search",{attrs:{"show-action":"",placeholder:e.$t("searchToken.text1"),"action-text":e.$t("searchToken.text7"),background:"#fff"},on:{input:e.onInput,cancel:e.close},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),s("span",{staticClass:"title"},[e._v(e._s(e.$t("searchToken.text2")))]),s("div",{staticClass:"referral-tokens"},[s("div",e._l(e.hotList,(function(t){return s("div",{key:t.address,on:{click:function(n){return e.select(t)}}},[s("img",{attrs:{src:t.logoURI}}),s("span",{domProps:{textContent:e._s(t.symbol)}})])})),0)]),s("span",{staticClass:"title"},[e._v(e._s(e.$t("searchToken.text3")))]),s("div",{staticClass:"all-tokens"},[s("van-list",{directives:[{name:"show",rawName:"v-show",value:!e.empty&&!e.searching,expression:"!empty && !searching"}],attrs:{finished:e.finished,"finished-text":e.$t("searchToken.text4")},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.allTokens,(function(t){return s("div",{key:t.address,on:{click:function(n){return e.select(t)}}},[s("div",[s("img",{attrs:{src:t.logoURI}}),s("div",[s("span",{class:void 0!==t.balance?"icon":"",domProps:{textContent:e._s(t.symbol)}}),s("span",{domProps:{textContent:e._s(t.name)}})])]),s("div",[void 0!==t.balance?s("span",[e._v(e._s(t.balance))]):s("span"),s("span",{domProps:{textContent:e._s(t.address.slice(0,5)+"..."+t.address.slice(-5))}})])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:e.empty&&!e.searching,expression:"empty && !searching"}],staticClass:"empty"},[s("img",{attrs:{src:n("d4cd")}}),s("span",[e._v(e._s(e.$t("searchToken.text5")))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.searching,expression:"searching"}],staticClass:"loading"},[s("van-loading",{attrs:{type:"spinner",color:"#3C94FF","text-color":"#404D66",vertical:""}},[e._v(e._s(e.$t("searchToken.text6")))])],1)],1)],1)])},a=[],r=(n("99af"),n("4de4"),n("4160"),n("fb6a"),n("b0c0"),n("b680"),n("d3b7"),n("159b"),n("96cf"),n("1da1")),o=n("b9cc"),i={},c={data:function(){return{value:"",show:!1,hotList:[],allTokens:[],cacheTokens:[],loading:!1,finished:!1,empty:!1,searching:!1,who:"",start:0,end:10}},created:function(){var e=this;fetch("https://chainconfig.github.io/bsc/pintokens.json").then((function(e){return e.json()})).then((function(t){e.hotList=t.hot,i=t}))},methods:{onInput:function(){var e=this;if(""===this.value)return this.empty=!1,this.start=10,this.end=20,this.searching=!1,this.allTokens=this.cacheTokens,!1;if(this.searching)return!1;this.searching=!0;var t=setTimeout(Object(r["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.value.length>0)){n.next=8;break}return s=e.$web3.utils.isAddress(e.value),n.next=4,s?e.getTokenByAddress():e.getTokenBySymbol();case 4:a=n.sent,e.empty=0===a.length,e.allTokens=a,e.searching=!1;case 8:clearTimeout(t);case 9:case"end":return n.stop()}}),n)}))),500)},getTokenBySymbol:function(){var e=this;return new Promise((function(t){var n=e.value.length,s=i.all.filter((function(t){return t.symbol.slice(0,n)===e.value.toUpperCase()}));if(s.length>0){for(var a=new e.$web3.BatchRequest,r=0;r<s.length;r++){var c=new e.$web3.eth.Contract(o,s[r].address);a.add(c.methods.balanceOf(e.$address).call.request({from:e.$address}))}a.requestManager.sendBatch(a.requests,(function(e,n){e||(n.forEach((function(e,t){s[t].balance=("string"===typeof e?e:e.result).fromWei(s[t].decimals).toFixed(4)})),t(s))}))}else t([])}))},getTokenByAddress:function(){var e=this;return new Promise((function(t){var n=i.all.filter((function(t){return t.address.toLowerCase()===e.value.toLowerCase()})),s=new e.$web3.BatchRequest;if(n.length>0){for(var a=0;a<n.length;a++){var r=new e.$web3.eth.Contract(o,n[a].address);s.add(r.methods.balanceOf(e.$address).call.request({from:e.$address}))}s.requestManager.sendBatch(s.requests,(function(e,s){e||(s.forEach((function(e,t){n[t].balance=("string"===typeof e?e:e.result).fromWei(n[t].decimals).toFixed(4)})),t(n))}))}else{var c=new e.$web3.eth.Contract(o,e.value);s.add(c.methods.name().call.request({from:e.$address})),s.add(c.methods.symbol().call.request({from:e.$address})),s.add(c.methods.decimals().call.request({from:e.$address})),s.add(c.methods.balanceOf(e.$address).call.request({from:e.$address})),s.requestManager.sendBatch(s.requests,(function(n,s){if(!n){var a=("string"===typeof s[0]?s[0]:s[0].result).decode(["string"]),r=s[1].result.decode(["string"]),o=s[2].result.decode(["uint8"]),i=s[3].result.decode(["uint256"]).fromWei(o).toFixed(4);t([{name:a,symbol:r,decimals:o,balance:i,address:e.value,chainId:56,logoURI:"/bsc/unknown.svg"}])}}))}}))},open:function(e){this.show=!0,this.who=e},close:function(){this.show=!1},select:function(e){this.$emit("select",e,this.who),this.show=!1},onLoad:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.end>=i.all.length&&e.start>=i.all.length)){t.next=4;break}return e.loading=!1,e.finished=!0,t.abrupt("return",!1);case 4:for(n=i.all.slice(e.start,e.end),s=new e.$web3.BatchRequest,a=0;a<n.length;a++)r=new e.$web3.eth.Contract(o,n[a].address),s.add(r.methods.balanceOf(e.$address).call.request({from:e.$address}));s.requestManager.sendBatch(s.requests,(function(t,s){t||(s.forEach((function(e,t){n[t].balance=("string"===typeof e?e:e.result).fromWei(n[t].decimals).toFixed(4)})),0===e.start&&10===e.end&&(e.cacheTokens=n),e.allTokens=e.allTokens.concat(n),e.loading=!1,e.start=e.end,e.end+=10)}));case 8:case"end":return t.stop()}}),t)})))()}}},l=c,d=l,u=(n("799b"),n("3467"),n("2877")),h=Object(u["a"])(d,s,a,!1,null,"64a67cb4",null);t["default"]=h.exports},d4cd:function(e,t,n){e.exports=n.p+"img/tokens-empty.e425a848.png"}}]);