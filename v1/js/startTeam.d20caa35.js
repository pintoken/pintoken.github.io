(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["startTeam"],{"21fb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAYCAYAAADZEIyjAAAAI0lEQVQoU2O0z3jynwELYBxiEjZT/mP3xxCTmHoQhz+GlgQAHFVFeU77VnsAAAAASUVORK5CYII="},"2a9c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAYCAYAAADZEIyjAAAAJElEQVQoU2MUnqrynwELYBxiEqxnuLH7Y4hJrPyxErs/hpYEAOX/N5Gh68o3AAAAAElFTkSuQmCC"},"383f":function(t,e,a){},"42d3":function(t,e){t.exports="data:image/png;base64,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"},"4d7f":function(t,e,a){"use strict";a("383f")},"6e32":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"navbarBox"},[r("div",{staticClass:"StartTeam navChild"},[r("div",{staticClass:"content"},[r("div",{staticClass:"registerTitle"},[r("img",{attrs:{src:a("42d3")}}),r("div",[r("div",[t._v(t._s(t.$t("register.text1"))),r("span",[t._v("PinSwap")])]),r("p",[t._v(t._s(t.$t("register.text3")))])])]),r("div",{staticClass:"registerInput"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.toCode,expression:"toCode"}],attrs:{type:"text",placeholder:t.$t("register.text4"),maxlength:"6"},domProps:{value:t.toCode},on:{input:[function(e){e.target.composing||(t.toCode=e.target.value)},function(e){t.toCode=t.toCode.replace(/[\W]/g,"")}]}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.fromCode,expression:"fromCode"}],attrs:{type:"text",placeholder:t.$t("register.text5"),maxlength:"6"},domProps:{value:t.fromCode},on:{input:[function(e){e.target.composing||(t.fromCode=e.target.value)},function(e){t.fromCode=t.fromCode.replace(/[\W]/g,"")}]}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:t.$t("register.text6"),maxlength:"6"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",{staticClass:"balance"},[r("div",[t._v(t._s(t.$t("register.text7"))+" "),r("span",[t._v(t._s(t.fee))]),t._v(" USDT")]),r("span",[t._v(t._s(t.$t("register.text8"))+" "+t._s(t.balance.usdt))])]),r("div",{staticClass:"startTeamButton"},[r("van-button",{staticClass:"but",on:{click:t.detect}},[t._v(t._s(t.$t("register.text9")))]),r("div",[r("p",[t._v(t._s(t.$t("register.text13")))]),r("div",{staticClass:"StartTeamText"},[r("div",[r("img",{attrs:{src:a("a48b")}}),r("span",[t._v(t._s(t.$t("register.text14")))])]),r("div",[r("img",{attrs:{src:a("21fb")}}),r("span",[t._v(t._s(t.$t("register.text15")))])]),r("div",[r("img",{attrs:{src:a("2a9c")}}),r("span",[t._v(t._s(t.$t("register.text16")))])])])])],1)])]),r("self-authorize",{ref:"authorize",on:{send:t.superNode}})],1)},s=[],o=(a("b0c0"),a("a9e3"),a("d3b7"),a("25f0"),a("96cf"),a("1da1")),n=a("5530"),i={components:{"self-authorize":function(){return Promise.all([a.e("tokenInfo"),a.e("communityManagement~transaction"),a.e("transaction")]).then(a.bind(null,"38fc"))}},data:function(){return{toCode:"",fromCode:"",name:"",fee:1e4}},computed:Object(n["a"])(Object(n["a"])({},Vuex.mapState(["registerShow"])),Vuex.mapState(["balance"])),methods:{swithShow:function(){this.$store.commit("registerShow",!this.registerShow)},detect:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,s,o,n,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/,a=t.balance.usdt,6===t.fromCode.length){e.next=5;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text30")));case 5:if(!(t.toCode.length<=5&&t.toCode.length>=1)){e.next=9;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text31")));case 9:if(!(Number(a)<t.fee)){e.next=11;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text32")));case 11:return r=t.fromCode.toUpperCase().stringToHex(),s=t.name.stringToHex(),o=t.toCode.length?t.toCode.toUpperCase().stringToHex():"000000".toUpperCase().stringToHex(),e.next=16,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Relation.address,method:"shortCodeToAddress",issuerAddress:t.$address,parameter:[r]}).then();case 16:return n=e.sent,e.next=19,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Relation.address,method:"shortCodeToAddress",issuerAddress:t.$address,parameter:[o]}).then();case 19:if(i=e.sent,"410000000000000000000000000000000000000000"!==window.tronWeb.address.toHex(i)){e.next=24;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text33")));case 24:if("410000000000000000000000000000000000000000"==window.tronWeb.address.toHex(n)){e.next=26;break}return e.abrupt("return",t.$toast.fail(t.$t("register.text34")));case 26:return e.next=28,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.UsdtToken.address,method:"allowance",parameter:[t.$address,t.$pingSwapContracts.Relation.address]}).then();case 28:if(c=e.sent.toString().fromSun(),!(t.fee>c)){e.next=34;break}return t.$refs.authorize.amount=t.fee,t.$refs.authorize.contractName="UsdtToken",t.$refs.authorize.contractAddress=t.$pingSwapContracts.Relation.address,e.abrupt("return",t.$refs.authorize.toggle());case 34:t.superNode(i,r,t.PrefixZero(s,32));case 35:case"end":return e.stop()}}),e)})))()},superNode:function(t,e,a){var r=this;this.$store.commit("loadingShow",!0),this.$pingSwapContracts.Relation.addSupperRelationEx(t,e,a).send({shouldPollResponse:!0,feeLimit:this.$store.state.generalFeeLimit.toSun(),callValue:this.fee.toString().toSun()}).then((function(t){r.$store.commit("loadingShow",!1),r.swithShow(),r.$getBalance(),r.$toast.success(r.$t("register.text35")),r.$emit("refreshData")})).catch((function(t){r.$store.commit("loadingShow",!1),r.$toast.fail(r.$t("register.text36")),console.log(t),console.log(t.output.contractResult[0].hexToString())}))}}},c=i,d=c,u=(a("4d7f"),a("2877")),A=Object(u["a"])(d,r,s,!1,null,"9d2148e6",null);e["default"]=A.exports},a48b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAYCAYAAADZEIyjAAAAJElEQVQoU2N8ZW76nwELYBxiEj9T07H7Y4hJ/D5zHLs/hpYEAEzYRUnUUOEBAAAAAElFTkSuQmCC"}}]);