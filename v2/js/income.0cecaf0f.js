(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["income"],{"11f2":function(t,e,n){"use strict";n("bb0a")},"2d7f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbarBox"},[n("div",{staticClass:"income navChild"},[n("div",{staticClass:"receiveIncome"},[n("div",{staticClass:"receiveIncomeNumber"},[n("span",[t._v(t._s(t.myAwards.canDraw))]),n("div",{staticClass:"line"},t._l(6,(function(t){return n("div",{key:t})})),0)]),n("div",{staticClass:"receiveIncomeNumberText",domProps:{textContent:t._s(t.$t("income.text2"))}}),n("div",{staticClass:"receiveIncomeInfo"},[n("div",{on:{click:function(e){return t.$router.push({path:"/record",query:{type:0,active:1}})}}},[n("span",[t._v(t._s(t.myAwards.partakeAmount))]),n("span",{domProps:{textContent:t._s(t.$t("income.text3"))}})]),n("div",{on:{click:function(e){return t.$router.push({path:"/record",query:{type:0,active:2}})}}},[n("span",[t._v(t._s(t.myAwards.shareAmount))]),n("span",{domProps:{textContent:t._s(t.$t("income.text5"))}})])]),n("div",{staticClass:"padding"},[n("div",{staticClass:"totalGet"},[n("div",{domProps:{textContent:t._s(t.$t("income.text6"))}}),n("span",[t._v(t._s(t.myAwards.drawed)+" USDT")])]),n("van-button",{directives:[{name:"ButClickLimit",rawName:"v-ButClickLimit"}],on:{click:t.doDrawAward}},[t._v(t._s(t.$t("income.text7")))])],1)])])])},r=[],i=(n("b680"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),s={data:function(){return{myAwards:{},isStart:!1}},created:function(){this.$pingSwapContracts&&this.init()},methods:{init:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"isStart"});case 2:return t.isStart=e.sent,e.next=5,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pin.address,method:"players",parameter:[t.$address]});case 5:n=e.sent,a=n.partakeAward,r=n.recommendAward,i=n.drawAward,t.myAwards={canDraw:a.toString().toBN().plus(r.toString()).toString().fromSun().toFixed(2),drawed:i.toString().fromSun().toFixed(2),partakeAmount:a.toString().fromSun().toFixed(2),shareAmount:r.toString().fromSun().toFixed(2)};case 10:case"end":return e.stop()}}),e)})))()},doDrawAward:function(){var t=this;return this.isStart?""==this.myAwards.canDraw||0==this.myAwards.canDraw?vant.Toast.fail(this.$t("income.text8")):void this.$tronWeb.call({contractAddress:this.$pingSwapContracts.Pin.address,method:"doDrawAward",option:{feeLimit:this.$store.state.generalFeeLimit.toSun()}}).then((function(e){e&&t.$pingSwapContracts.Pin.doDrawAward().send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then((function(e){t.$loading(e).then((function(e){e&&(t.init(),t.$getBalance(),vant.Toast.success(t.$t("income.text9")))}))}))})):vant.Toast.fail("合约暂未生效！")}}},o=s,c=o,d=(n("11f2"),n("2877")),u=Object(d["a"])(c,a,r,!1,null,"0413b4f6",null);e["default"]=u.exports},bb0a:function(t,e,n){}}]);