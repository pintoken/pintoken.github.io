(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Computingpower"],{"5f4b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Computingpower"},[n("div",{staticClass:"title"},[n("div",{staticClass:"head"},[n("span",[t._v(t._s(t.$t("Computingpower.text1")))]),n("div",[n("span",[t._v(t._s(t.$t("Computingpower.text2")))]),n("span",[t._v(t._s(t.myPower))])])]),n("div",{staticClass:"middle"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.quantitys,expression:"quantitys"}],attrs:{placeholder:t.$t("Computingpower.text3"),type:"text"},domProps:{value:t.quantitys},on:{input:[function(e){e.target.composing||(t.quantitys=e.target.value)},t.input]}}),n("van-button",{on:{click:t.maximum}},[t._v(t._s(t.$t("Computingpower.text4")))])],1),n("div",{staticClass:"getComputingpower"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],staticClass:"Transferout"},[t._v(" "+t._s(t.$t("Computingpower.text5"))+" "),n("span",[t._v("5%")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isshow,expression:"!isshow"}],staticClass:"getComputingpower1"},[n("span",[t._v(t._s(t.$t("Computingpower.text6")))]),n("span",[t._v(t._s(t.Available))])])]),n("div",{staticClass:"takeover"},[t._v(t._s(t.$t("Computingpower.text7")))]),n("div",{staticClass:"bottom"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.acceptaddress,expression:"acceptaddress"}],attrs:{placeholder:t.$t("Computingpower.text8"),type:"text",name:"",id:""},domProps:{value:t.acceptaddress},on:{input:function(e){e.target.composing||(t.acceptaddress=e.target.value)}}})]),n("van-button",{on:{click:t.Transferout}},[t._v(t._s(t.$t("Computingpower.text9")))])],1),n("div",{staticClass:"Detail"},[t._v(t._s(t.$t("Computingpower.text10")))]),n("div",{staticClass:"record"},[n("div",{staticClass:"content1"},[n("div",[n("span",[t._v(t._s(t.$t("Computingpower.text11")))]),n("span",[t._v(t._s(t.$t("Computingpower.text12")))]),n("span",[t._v(t._s(t.$t("Computingpower.text13")))])]),t._l(t.list,(function(e){return n("div",{key:e},[n("span",[t._v(t._s(e.time))]),n("span",[t._v(t._s(e.type))]),n("span",{staticClass:"blue"},[t._v(t._s(e.amount))])])}))],2)])])},a=[],s=(n("a9e3"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),i=n("aca7"),o={data:function(){return{show:!0,isshow:!0,quantitys:"",myPower:0,Available:0,acceptaddress:"",list:[],size:20,offset:0,Transferoutlist:[],isStart:!1}},created:function(){this.$pingSwapContracts&&this.init()},methods:{init:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Mine.address,method:"isStart"});case 2:return t.isStart=e.sent,e.next=5,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Mine.address,method:"mineInfo"});case 5:return n=e.sent,r=n.myPower,e.next=9,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Pledge.address,method:"getMinerInfo",parameter:[0]});case 9:a=e.sent,s=a.gainPower,t.myPower=r.toNumber()-s.toNumber(),t.getRecord();case 13:case"end":return e.stop()}}),e)})))()},getRecord:function(){var t=this,e=[this.$t("Computingpower.text14"),this.$t("Computingpower.text15"),this.$t("Computingpower.text16"),this.$t("Computingpower.text17"),this.$t("Computingpower.text18"),this.$t("Computingpower.text19")];this.$tronWeb.event({contractAddress:this.$pingSwapContracts.Mine.address,method:"PowerEvent",size:this.size,fingerprint:this.offset}).then((function(n){for(var r=0;r<n.length;r++)if(window.tronWeb.address.fromHex(n[r].result.owner)==t.$address){var a="true"===n[r].result.isAdd;2==n[r].result.powerSource?t.list.push({time:t.$toTime(Number(n[r].result.time),"Y/M/D"),type:a?e[n[r].result.powerSource]:t.$t("Computingpower.text20"),amount:(a?"+":"-")+n[r].result.amount.toString()}):t.list.push({time:t.$toTime(Number(n[r].result.time),"Y/M/D"),type:e[n[r].result.powerSource],amount:(a?"+":"-")+n[r].result.amount.toString()})}n.length&&n[n.length-1].fingerprint&&(t.offset=n[n.length-1].fingerprint,t.getRecord())}))},maximum:function(){this.quantitys=this.myPower,this.input()},input:function(){var t=parseInt(this.quantitys,10);t!=this.quantitys?(this.quantitys="",this.isshow=!0):null!=this.quantitys&&(this.isshow=!1),this.Available=Math.floor(.95*this.quantitys)},Transferout:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isStart){e.next=4;break}return e.abrupt("return",vant.Toast.fail("合约暂未生效！"));case 4:if(!(Number(t.quantitys)<=0)){e.next=8;break}return e.abrupt("return",vant.Toast.fail(t.$t("Computingpower.text21")));case 8:if(!(Number(t.quantitys)>Number(t.myPower))){e.next=12;break}return e.abrupt("return",vant.Toast.fail(t.$t("Computingpower.text22")));case 12:if(window.tronWeb.isAddress(t.acceptaddress)){e.next=14;break}return e.abrupt("return",vant.Toast.fail(t.$t("Computingpower.text23")));case 14:return e.next=16,t.$tronWeb.call({contractAddress:t.$pingSwapContracts.Relation.address,method:"_recommerMapping",parameter:[t.acceptaddress]});case 16:if(e.t0=e.sent,e.t1=i["j"],n=e.t0!==e.t1,n){e.next=21;break}return e.abrupt("return",vant.Toast.fail(t.$t("Computingpower.text24")));case 21:t.$pingSwapContracts.Mine.transfer(t.acceptaddress,t.quantitys).send({feeLimit:t.$store.state.generalFeeLimit.toSun()}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$loading(n);case 2:r=e.sent,r&&(t.init(),t.acceptaddress="",t.quantitys="",t.isshow=!0,vant.Toast.success(t.$t("Computingpower.text25")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 22:case"end":return e.stop()}}),e)})))()}}},u=o,c=u,p=(n("867d"),n("2877")),d=Object(p["a"])(c,r,a,!1,null,"2be87184",null);e["default"]=d.exports},"867d":function(t,e,n){"use strict";n("a6a8")},a6a8:function(t,e,n){},aca7:function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"i",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"d",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return w})),n.d(e,"j",(function(){return h}));n("d3b7"),n("96cf");var r=n("1da1");function a(t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{cache:"reload"});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}var i=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/liquidityuser?userAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/scan/statusinfo?exchangeAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/scan/transactions?exchangeAddress=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://apilist.tronscan.org/api/token_trc20?contract=".concat(e,"&showAll=1"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://apilist.tronscan.org/api/contract?contract=".concat(e,"&type=contract"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a("https://abc.ablesdxd.link/swap/v2/tokenBrief?addr=".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m={tokenAddress:"TNUC9Qb1rRpS5CbWLmNMxXBjyFoydXjWFR",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/logo/trx.png",tokenSymbol:"TRX"},l={address:"TQn9Y2khEsLJW1ChVWFMSMeRDow5KcbLSE",tokenAddress:"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/logo/usdtlogo.png",tokenName:"Tether USD",tokenSymbol:"USDT"},w={address:"TUAtSJk6bePZ2uxzi7kF2hjeWqmoNAVbRe",tokenAddress:"TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU",tokenDecimal:6,tokenLogoUrl:"https://coin.top/production/upload/logo/TJLcHwhLCN3maffsFEzDEFJQaMZuHnCPAU.png",tokenName:"PinSwap",tokenSymbol:"PIN"},h="T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb"}}]);